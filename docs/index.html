<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Tools for transport planning with an emphasis on spatial
    transport data and non-motorized modes. Create geographic &quot;desire
    lines&quot; from origin-destination (OD) data (building on the od
    package); calculate routes on the transport network locally and via
    interfaces to routing services such as &lt;https://cyclestreets.net/&gt;;
    calculate route segment attributes such as bearing.  The package
    implements the travel flow aggregration method described in Morgan
    and Lovelace (2020) &lt;doi:10.1177/2399808320942779&gt;.  Further
    information on the package's aim and scope can be found in the
    vignettes and in a paper in the R Journal (Lovelace and Ellison 2018)
    &lt;doi:10.32614/RJ-2018-053&gt;.">
<title>Sustainable Transport Planning • stplanr</title>
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Sustainable Transport Planning">
<meta property="og:description" content="Tools for transport planning with an emphasis on spatial
    transport data and non-motorized modes. Create geographic &quot;desire
    lines&quot; from origin-destination (OD) data (building on the od
    package); calculate routes on the transport network locally and via
    interfaces to routing services such as &lt;https://cyclestreets.net/&gt;;
    calculate route segment attributes such as bearing.  The package
    implements the travel flow aggregration method described in Morgan
    and Lovelace (2020) &lt;doi:10.1177/2399808320942779&gt;.  Further
    information on the package's aim and scope can be found in the
    vignettes and in a paper in the R Journal (Lovelace and Ellison 2018)
    &lt;doi:10.32614/RJ-2018-053&gt;.">
<meta property="og:image" content="https://ropensci.github.io/stplanr/logo.png">
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css">
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript>
<!-- End Matomo Code -->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="index.html">stplanr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="nav-link" href="articles/stplanr.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/stplanr-od.html">Origin-destination data with stplanr</a>
    <a class="dropdown-item" href="articles/stplanr-paper.html">stplanr: A Package for Transport Planning</a>
    <a class="dropdown-item" href="articles/stplanr-parallel.html">Parallel routing and performance with stplanr</a>
    <a class="dropdown-item" href="articles/stplanr-route-nets.html">Route networks with stplanr</a>
    <a class="dropdown-item" href="articles/stplanr-routing.html">Transport routing with stplanr</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/stplanr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="stplanr-">stplanr 
<a class="anchor" aria-label="anchor" href="#stplanr-"></a>
</h1>
</div>
<!-- [![Build Status](https://travis-ci.org/ropensci/stplanr.svg?branch=master)](https://travis-ci.org/ropensci/stplanr) -->
<p><a href="https://github.com/r-hub/cranlogs.app" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/stplanr" alt="rstudio mirror downloads"></a> <a href="https://cran.r-project.org/package=stplanr" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/grand-total/stplanr"></a> <a href="https://cran.r-project.org/package=stplanr" class="external-link"><img src="https://www.r-pkg.org/badges/version/stplanr" alt="CRAN_Status_Badge"></a> <a href="https://lifecycle.r-lib.org/articles/stages.html" class="external-link"><img src="https://img.shields.io/badge/lifecycle-maturing-blue.svg" alt="lifecycle"></a> <a href="https://github.com/ropensci/software-review/issues/10" class="external-link"><img src="https://badges.ropensci.org/10_status.svg"></a> <a href="https://github.com/ropensci/stplanr/actions" class="external-link"><img src="https://github.com/ropensci/stplanr/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></p>
<p><strong>stplanr</strong> is a package for sustainable transport planning with R.</p>
<p>It provides functions for solving common problems in transport planning and modelling, such as how to best get from point A to point B. The overall aim is to provide a reproducible, transparent and accessible toolkit to help people better understand transport systems and inform policy, as outlined in a <a href="https://journal.r-project.org/archive/2018/RJ-2018-053/index.html" class="external-link">paper</a> about the package, and the potential for open source software in transport planning in general, published in the <a href="https://journal.r-project.org/" class="external-link">R Journal</a>.</p>
<p>The initial work on the project was funded by the Department of Transport (<a href="https://www.gov.uk/government/organisations/department-for-transport" class="external-link">DfT</a>) as part of the development of the Propensity to Cycle Tool (PCT), a web application to explore current travel patterns and cycling potential at zone, desire line, route and route network levels (see <a href="https://www.pct.bike/" class="external-link">www.pct.bike</a> and click on a region to try it out). The basis of the methods underlying the PCT is origin-destination data, which are used to highlight where many short distance trips are being made, and estimate how many could switch to cycling. The results help identify where cycleways are most needed, an important component of sustainable transport planning infrastructure engineering and policy <a href="https://www.icevirtuallibrary.com/doi/abs/10.1680/dfct.63495.001" class="external-link">design</a>.</p>
<p>See the package vignette (e.g. via <code>vignette("introducing-stplanr")</code>) or an <a href="https://dx.doi.org/10.5198/jtlu.2016.862" class="external-link">academic paper on the Propensity to Cycle Tool (PCT)</a> for more information on how it can be used. This README provides some basics.</p>
<p>Much of the work supports research undertaken at the Leeds’ Institute for Transport Studies (<a href="https://environment.leeds.ac.uk/transport" class="external-link">ITS</a>) but <strong>stplanr</strong> should be useful to transport researchers and practitioners needing free, open and reproducible methods for working with geographic data everywhere.</p>
<div class="section level2">
<h2 id="key-functions">Key functions<a class="anchor" aria-label="anchor" href="#key-functions"></a>
</h2>
<p>Data frames representing flows between origins and destinations must be combined with geo-referenced zones or points to generate meaningful analyses and visualisations of ‘flows’ or origin-destination (OD) data. <strong>stplanr</strong> facilitates this with <code><a href="reference/od2line.html">od2line()</a></code>, which takes flow and geographical data as inputs and outputs spatial data. Some example data is provided in the package:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/stplanr" class="external-link">stplanr</a></span><span class="op">)</span></span></code></pre></div>
<p>Let’s take a look at this data:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">od_data_sample</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span> <span class="co"># typical form of flow data</span></span>
<span><span class="co">#&gt; # A tibble: 3 x 3</span></span>
<span><span class="co">#&gt;   geo_code1 geo_code2   all</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;     &lt;chr&gt;     &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 E02002361 E02002361   109</span></span>
<span><span class="co">#&gt; 2 E02002361 E02002363    38</span></span>
<span><span class="co">#&gt; 3 E02002361 E02002367    10</span></span>
<span><span class="va">cents_sf</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,<span class="op">]</span> <span class="co"># points representing origins and destinations</span></span>
<span><span class="co">#&gt;       geo_code  MSOA11NM percent_fem  avslope             geometry</span></span>
<span><span class="co">#&gt; 1708 E02002384 Leeds 055    0.458721 2.856563 -1.546463, 53.809517</span></span>
<span><span class="co">#&gt; 1712 E02002382 Leeds 053    0.438144 2.284782 -1.511861, 53.811611</span></span>
<span><span class="co">#&gt; 1805 E02002393 Leeds 064    0.408759 2.361707 -1.524205, 53.804098</span></span></code></pre></div>
<p>These datasets can be combined as follows:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">travel_network</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/od2line.html">od2line</a></span><span class="op">(</span>flow <span class="op">=</span> <span class="va">od_data_sample</span>, zones <span class="op">=</span> <span class="va">cents_sf</span><span class="op">)</span></span>
<span><span class="va">w</span> <span class="op">&lt;-</span> <span class="va">flow</span><span class="op">$</span><span class="va">all</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">flow</span><span class="op">$</span><span class="va">all</span><span class="op">)</span> <span class="op">*</span><span class="fl">10</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">travel_network</span>, lwd <span class="op">=</span> <span class="va">w</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-plot1-1.png" width="100%"></p>
<p><strong>stplanr</strong> has many functions for working with OD data. See the <a href="https://docs.ropensci.org/stplanr/articles/stplanr-od.html" class="external-link"><code>stplanr-od</code></a> vignette for details.</p>
<p>The package can also allocate flows to the road network, e.g. with <a href="https://www.cyclestreets.net/api/" class="external-link">CycleStreets.net</a> and the OpenStreetMap Routing Machine (<a href="https://github.com/Project-OSRM/osrm-backend" class="external-link">OSRM</a>) API interfaces. These are supported in <code>route_*()</code> functions such as <code>route_cyclestreets</code> and <code><a href="reference/route_osrm.html">route_osrm()</a></code>:</p>
<p>Routing can be done using a range of back-ends and using lat/lon or desire line inputs with the <code><a href="reference/route.html">route()</a></code> function, as illustrated by the following commands which calculates the route between Fleet Street and Southwark Street over the River Thames on Blackfriars Bridge in London:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/riatelab/osrm" class="external-link">osrm</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Data: (c) OpenStreetMap contributors, ODbL 1.0 - http://www.openstreetmap.org/copyright</span></span>
<span><span class="co">#&gt; Routing: OSRM - http://project-osrm.org/</span></span>
<span><span class="va">trip</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/route.html">route</a></span><span class="op">(</span></span>
<span>  from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.11</span>, <span class="fl">51.514</span><span class="op">)</span>,</span>
<span>  to <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.10</span>, <span class="fl">51.506</span><span class="op">)</span>,</span>
<span>  route_fun <span class="op">=</span> <span class="va">osrmRoute</span>,</span>
<span>  returnclass <span class="op">=</span> <span class="st">"sf"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="co">#&gt; Most common output is sf</span></span>
<span><span class="fu">mapview</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/mapview/man/mapView.html" class="external-link">mapview</a></span><span class="op">(</span><span class="va">trip</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-5-1.png" width="100%"></p>
<p>You can also use and place names, found using the Google Map API:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">trip2</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/route.html">route</a></span><span class="op">(</span></span>
<span>  from <span class="op">=</span> <span class="st">"Leeds"</span>,</span>
<span>  to <span class="op">=</span> <span class="st">"Bradford"</span>,</span>
<span>  route_fun <span class="op">=</span> <span class="va">osrmRoute</span>,</span>
<span>  returnclass <span class="op">=</span> <span class="st">"sf"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="co">#&gt; Most common output is sf</span></span>
<span><span class="fu">mapview</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/mapview/man/mapView.html" class="external-link">mapview</a></span><span class="op">(</span><span class="va">trip2</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-6-1.png" width="100%"></p>
<p>We can replicate this call multiple times with the <code>l</code> argument in <code><a href="reference/route.html">route()</a></code>:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">desire_lines</span> <span class="op">&lt;-</span> <span class="va">travel_network</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="fl">6</span>, <span class="op">]</span></span></code></pre></div>
<p>Next, we’ll calculate the routes:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">routes</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/route.html">route</a></span><span class="op">(</span></span>
<span>  l <span class="op">=</span> <span class="va">desire_lines</span>,</span>
<span>  route_fun <span class="op">=</span> <span class="va">osrmRoute</span>,</span>
<span>  returnclass <span class="op">=</span> <span class="st">"sf"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="fu">mapview</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/mapview/man/mapView.html" class="external-link">mapview</a></span><span class="op">(</span><span class="va">routes</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">mapview</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/mapview/man/mapView.html" class="external-link">mapview</a></span><span class="op">(</span><span class="va">desire_lines</span>, color <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-plot2-1.png" width="100%"></p>
<!-- The resulting routes will look something like this: -->
<p>For more examples, <code>example("route")</code>.</p>
<p><code><a href="reference/overline.html">overline()</a></code> takes a series of route-allocated lines, splits them into unique segments and aggregates the values of overlapping lines. This can represent where there will be most traffic on the transport system, as demonstrated in the following code chunk.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">routes</span><span class="op">$</span><span class="va">foot</span> <span class="op">&lt;-</span> <span class="va">desire_lines</span><span class="op">$</span><span class="va">foot</span></span>
<span><span class="va">rnet</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/overline.html">overline</a></span><span class="op">(</span><span class="va">routes</span>, attrib <span class="op">=</span> <span class="st">"foot"</span><span class="op">)</span></span>
<span><span class="co">#&gt; 2020-09-03 22:24:08 constructing segments</span></span>
<span><span class="co">#&gt; 2020-09-03 22:24:08 building geometry</span></span>
<span><span class="co">#&gt; 2020-09-03 22:24:08 simplifying geometry</span></span>
<span><span class="co">#&gt; 2020-09-03 22:24:08 aggregating flows</span></span>
<span><span class="co">#&gt; 2020-09-03 22:24:08 rejoining segments into linestrings</span></span></code></pre></div>
<p>The resulting route network, with segment totals calculated from overlapping parts for the routes for walking, can be visualised as follows:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">rnet</span><span class="op">[</span><span class="st">"foot"</span><span class="op">]</span>, lwd <span class="op">=</span> <span class="va">rnet</span><span class="op">$</span><span class="va">foot</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-9-1.png" width="100%"></p>
<p>The above plot represents the number walking trips made (the ‘flow’) along particular segments of a transport network.</p>
<!-- (results not shown): -->
</div>
<div class="section level2">
<h2 id="policy-applications">Policy applications<a class="anchor" aria-label="anchor" href="#policy-applications"></a>
</h2>
<p>The examples shown above, based on tiny demonstration datasets, may not seem particularly revolutionary. At the city scale, however, this type of analysis can be used to inform sustainable transport policies, as described in papers <a href="https://www.jtlu.org/index.php/jtlu/article/view/862/859" class="external-link">describing the Propensity to Cycle Tool</a> (PCT), and its <a href="https://www.sciencedirect.com/science/article/pii/S2214140518301257" class="external-link">application to calculate cycling to school potential</a> across England.</p>
<p>Results generated by <strong>stplanr</strong> are now part of national government policy: the PCT is the recommended tool for local and regional authorities developing strategic cycle network under the Cycling and Walking Infrastructure Strategy (<a href="https://www.gov.uk/government/publications/cycling-and-walking-investment-strategy" class="external-link">CWIS</a>), which is part of the Infrastructure Act <a href="https://www.legislation.gov.uk/ukpga/2015/7/contents/enacted" class="external-link">2015</a>. <strong>stplanr</strong> is helping dozens of local authorities across the UK to answer the question: where to prioritise investment in cycling? In essence, stplanr was designed to support sustainable transport policies.</p>
<p>There are many other research and policy questions that functions in <strong>stplanr</strong>, and other open source software libraries and packages, can help answer. At a time of climate, health and social crises, it is important that technology is not only sustainable itself (e.g. as enabled by open source communities and licenses) but that it contributes to a sustainable future.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>To install the stable version, use:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"stplanr"</span><span class="op">)</span></span></code></pre></div>
<p>The development version can be installed using <strong>devtools</strong>:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools") # if not already installed</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"ropensci/stplanr"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/stplanr" class="external-link">stplanr</a></span><span class="op">)</span></span></code></pre></div>
<p>stplanr depends on rgdal, which can be tricky to install.</p>
<div class="section level3">
<h3 id="installing-stplanr-on-linux-and-mac">Installing stplanr on Linux and Mac<a class="anchor" aria-label="anchor" href="#installing-stplanr-on-linux-and-mac"></a>
</h3>
<p><strong>stplanr</strong> depends on <strong>sf</strong>. Installation instructions for Mac, Ubuntu and other Linux distros can be found here: <a href="https://github.com/r-spatial/sf#installing" class="external-link uri">https://github.com/r-spatial/sf#installing</a></p>
</div>
</div>
<div class="section level2">
<h2 id="functions-help-and-contributing">Functions, help and contributing<a class="anchor" aria-label="anchor" href="#functions-help-and-contributing"></a>
</h2>
<p>The current list of available functions can be seen on the package’s website at <a href="https://docs.ropensci.org/stplanr/" class="external-link">docs.ropensci.org/stplanr/</a>, or with the following command:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/ls_str.html" class="external-link">lsf.str</a></span><span class="op">(</span><span class="st">"package:stplanr"</span>, all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>To get internal help on a specific function, use the standard way.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">?</span><span class="va">od2line</span></span></code></pre></div>
<p>To contribute, report bugs or request features, see the <a href="https://github.com/ropensci/stplanr/issues" class="external-link">issue tracker</a>.</p>
</div>
<div class="section level2">
<h2 id="further-resources--tutorials">Further resources / tutorials<a class="anchor" aria-label="anchor" href="#further-resources--tutorials"></a>
</h2>
<p>Want to learn how to use open source software for reproducible sustainable transport planning work? Now is a great time to learn. Transport planning is a relatively new field of application in R. However, there are already some good resources on the topic, including (any further suggestions: welcome):</p>
<ul>
<li>The Transport chapter of <em>Geocomputation with R</em>, which provides a broad introduction from a geographic data perspective: <a href="https://geocompr.robinlovelace.net/transport.html" class="external-link uri">https://geocompr.robinlovelace.net/transport.html</a>
</li>
<li>The <strong>stplanr</strong> paper, which describes the context in which the package was developed: <a href="https://journal.r-project.org/archive/2018/RJ-2018-053/index.html" class="external-link uri">https://journal.r-project.org/archive/2018/RJ-2018-053/index.html</a> (please cite this if you use <strong>stplanr</strong> in your work)</li>
<li>The <code>dodgr</code> vignette, which provides an introduction to routing in R: <a href="https://atfutures.github.io/dodgr/" class="external-link uri">https://atfutures.github.io/dodgr/</a>
</li>
</ul>
</div>
<div class="section level2">
<h2 id="meta">Meta<a class="anchor" aria-label="anchor" href="#meta"></a>
</h2>
<ul>
<li>Please report issues, feature requests and questions to the <a href="https://github.com/ropensci/stplanr/issues" class="external-link">github issue tracker</a>
</li>
<li>License: MIT</li>
<li>Get citation information for <strong>stplanr</strong> in R doing <code>citation(package = 'stplanr')</code>
</li>
<li>This project is released with a <a href="https://github.com/ropensci/stplanr/blob/master/CONDUCT.md" class="external-link">Contributor Code of Conduct</a>. By participating in this project you agree to abide by its terms.</li>
</ul>
<p><a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/public_images/github_footer.png" alt="rofooter"></a></p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=stplanr" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/ropensci/stplanr/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/ropensci/stplanr/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing stplanr</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Robin Lovelace <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-5679-6536" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Richard Ellison <br><small class="roles"> Author </small>  </li>
<li>Malcolm Morgan <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-9488-9183" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>



  </aside>
</div>


    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg">
</div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://twitter.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-twitter"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul>
</div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
<h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul>
</div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer>
</div>

  

  

  </body>
</html>
